<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Understanding of the Primary Data Types</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />

    <script type="text/javascript">
      "user strict";

      function valuesOnLoad() {
        document.getElementById("txtAmount").value =
          document.getElementById("rangeAmount").value;

        document.getElementById("txtYears").value =
          document.getElementById("rangeYear").value;
        document.getElementById("txtRate").value =
          document.getElementById("rangeRate").value;
      }

      function amountChange() {
        document.getElementById("txtAmount").value =
          document.getElementById("rangeAmount").value;
      }
      function yearChange() {
        document.getElementById("txtYears").value =
          document.getElementById("rangeYear").value;
      }
      function rateChange() {
        document.getElementById("txtRate").value =
          document.getElementById("rangeRate").value;
      }
      function emiCalculation() {
        let rate =
          parseFloat(document.getElementById("rangeRate").value) / 12 / 100; // converting into the rate in ruppes

        console.log(rate);
        let amount = parseFloat(document.getElementById("rangeAmount").value);

        let years = parseFloat(document.getElementById("rangeYear").value) * 12; // converting into months

        let EMI =
          (amount * rate * Math.pow(1 + rate, years)) /
          (Math.pow(1 + rate, years) - 1);

        console.log("emi amount is ", EMI);
        document.getElementById("lblEMI").innerHTML =
          "Your EMI amount for every month is <b>" +
          Math.ceil(EMI, 3).toLocaleString("en-IN", {
            style: "currency",
            currency: "INR",
          }) +
          "</b> for <b>" +
          years +
          "</b> years";
      }
    </script>
  </head>
  <body class="container-fluid pt-3" onload="valuesOnLoad()">
    <h1 class="text-center text-dark">Personal Loan EMI Calculator</h1>
    <div class="bg-light p-3 rounded-2">
      <div class="row align-content-center">
        <div class="col">
          <span>Amount You Need &#8377;</span>
          <input type="text" id="txtAmount" />
        </div>
        <div class="col">
          <span>for</span>
          <input type="text" id="txtYears" size="4%" />
          <span>years</span>
        </div>
        <div class="col">
          <span>Interest Rate</span>
          <input type="text" id="txtRate" size="4%" />
          <span>%</span>
        </div>
      </div>
      <div class="row mt-4">
        <div class="col">
          <input
            type="range"
            id="rangeAmount"
            min="5000"
            max="100000"
            value="25000"
            class="form-range"
            onchange="amountChange()"
          />
        </div>
        <div class="col">
          <input
            type="range"
            id="rangeYear"
            min="1"
            max="5"
            value="1"
            class="form-range"
            onchange="yearChange()"
          />
        </div>
        <div class="col">
          <input
            type="range"
            id="rangeRate"
            min="10.50"
            max="21.00"
            step="0.1"
            value="12.50"
            class="form-range"
            onchange="rateChange()"
          />
        </div>
      </div>
      <div class="row mt-0">
        <div class="col d-flex justify-content-between">
          <span>&#8377; 50,000</span>
          <span>&#8377; 100,000</span>
        </div>
        <div class="col d-flex justify-content-between">
          <span>&#8377; 1</span>
          <span>&#8377; 5</span>
        </div>
        <div class="col d-flex justify-content-between">
          <span>&#8377; 10.99 %</span>
          <span>&#8377; 21.00 %</span>
        </div>
      </div>
      <div class="text-end mt-2">
        <button class="btn btn-primary w-25" onclick="emiCalculation()">
          Calculate
        </button>
      </div>
    </div>
    <div
      id="lblEMI"
      class="text-danger p-1 rounded-1 text-center fw-bold"
    ></div>
    <!-- <script src="../../node_modules/bootstrap/dist/js/bootstrap.bundle.js"></script>
    <script src="../../node_modules/jquery/dist/jquery.js"></script> -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- Bootstrap Bundle JS (with Popper.js) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
